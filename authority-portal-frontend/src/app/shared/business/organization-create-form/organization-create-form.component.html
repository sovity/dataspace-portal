<div class="flex gap-4 flex-wrap">
  <!-- Legal Name -->
  <app-text-input
    class="flex-1"
    label="Organization Legal Name"
    ctrlId="formRegLegalName"
    data-testid="formRegLegalName"
    placeholder="My Org LLC"
    required
    [ctrl]="orgForm.controls.legalName"></app-text-input>

  <!-- Legal Name -->
</div>

<div class="flex gap-4 flex-wrap">
  <!-- Website -->
  <app-text-input
    class="flex-1"
    label="Website"
    ctrlId="formRegWebsite"
    data-testid="formRegWebsite"
    placeholder="https://www.my-org.com"
    required
    [ctrl]="orgForm.controls.website"></app-text-input>
  <!-- Website -->
</div>

<div class="flex gap-4 flex-wrap">
  <!-- Business Unit -->
  <app-text-input
    class="flex-1"
    label="Business Unit"
    ctrlId="formRegBusinessUnit"
    data-testid="formRegBusinessUnit"
    placeholder="My Department"
    required
    [ctrl]="orgForm.controls.businessUnit"></app-text-input>
  <!-- Business Unit -->

  <!-- Industry -->
  <app-industry-select
    class="flex-1"
    data-testid="industry-selector"
    required
    [ctrl]="orgForm.controls.industry"></app-industry-select>
  <!-- Industry -->
</div>

<div class="flex flex-col">
  <div class="flex gap-4 flex-wrap">
    <!-- Street -->
    <app-text-input
      class="flex-1"
      label="Street"
      ctrlId="formRegStreet"
      data-testid="formRegStreet"
      placeholder="Example Street"
      required
      [ctrl]="orgForm.controls.mainAddressStreet"></app-text-input>
    <!-- Street -->

    <!-- House No -->
    <app-text-input
      class="flex-1"
      label="House No."
      ctrlId="formRegHouseNo"
      data-testid="formRegHouseNo"
      placeholder="10b"
      required
      [ctrl]="orgForm.controls.mainAddressHouseNo"></app-text-input>
    <!-- House No -->
  </div>

  <div class="flex gap-4 flex-wrap">
    <!-- ZIP Code -->
    <app-text-input
      class="flex-1"
      label="ZIP code"
      ctrlId="formRegZipCode"
      data-testid="formRegZipCode"
      placeholder="12345"
      required
      [ctrl]="orgForm.controls.mainAddressZipCode"></app-text-input>
    <!-- ZIP Code -->

    <!-- City  -->
    <app-text-input
      class="flex-1"
      label="City"
      ctrlId="formRegCity"
      data-testid="formRegCity"
      placeholder="Frankfurt am Main"
      required
      [ctrl]="orgForm.controls.mainAddressCity"></app-text-input>
    <!-- City  -->
  </div>

  <div class="flex gap-4 flex-wrap">
    <!-- Country  -->
    <app-text-input
      class="flex-1"
      label="Country"
      ctrlId="formRegCountry"
      data-testid="formRegCountry"
      placeholder="Germany"
      required
      [ctrl]="orgForm.controls.mainAddressCountry"></app-text-input>
    <!-- Country  -->
  </div>

  <mat-checkbox
    id="formRegBillingDifferent"
    class="mb-2"
    data-testid="formRegBillingDifferent"
    [formControl]="orgForm.controls.billingAddressSameAsMain"
    ><div class="flex gap-2 items-center">
      <span class="text-sm">Billing address is same as main address</span>
      <mat-icon
        fontIcon="info"
        matTooltip="Only for administrative purposes - the MDS is free of charge until 2025"
        matTooltipClass="text-sm"
        aria-label="info"></mat-icon>
    </div>
  </mat-checkbox>
</div>

<div
  *ngIf="!orgForm.controls.billingAddressSameAsMain.value"
  class="flex flex-col gap-4">
  <div class="flex gap-4 flex-wrap">
    <!-- Street -->
    <app-text-input
      class="flex-1"
      label="Street"
      ctrlId="formRegBillingStreet"
      data-testid="formRegBillingStreet"
      placeholder="Example Street"
      required
      [ctrl]="orgForm.controls.billingAddressStreet"></app-text-input>
    <!-- Street -->

    <!-- House No -->
    <app-text-input
      class="flex-1"
      label="House No."
      ctrlId="formRegBillingHouseNo"
      data-testid="formRegBillingHouseNo"
      placeholder="10b"
      required
      [ctrl]="orgForm.controls.billingAddressHouseNo"></app-text-input>
    <!-- House No -->
  </div>

  <div class="flex gap-4 flex-wrap">
    <!-- ZIP Code -->
    <app-text-input
      class="flex-1"
      label="ZIP code"
      ctrlId="formRegBillingZipCode"
      data-testid="formRegBillingZipCode"
      placeholder="12345"
      required
      [ctrl]="orgForm.controls.billingAddressZipCode"></app-text-input>
    <!-- ZIP Code -->

    <!-- City  -->
    <app-text-input
      class="flex-1"
      label="City"
      ctrlId="formRegBillingCity"
      data-testid="formRegBillingCity"
      placeholder="Frankfurt am Main"
      required
      [ctrl]="orgForm.controls.billingAddressCity"></app-text-input>
    <!-- City  -->
  </div>

  <div class="flex gap-4 flex-wrap">
    <!-- Country  -->
    <app-text-input
      class="flex-1"
      label="Country"
      ctrlId="formRegBillingCountry"
      data-testid="formRegBillingCountry"
      placeholder="Germany"
      required
      [ctrl]="orgForm.controls.billingAddressCountry"></app-text-input>
    <!-- Country  -->
  </div>
</div>

<div class="flex gap-4 flex-wrap">
  <!-- Description -->
  <app-text-area
    class="flex-1"
    label="Organization Description"
    ctrlId="formRegDescription"
    data-testid="formRegDescription"
    placeholder="What does Your organization do?"
    required
    [ctrl]="orgForm.controls.description"></app-text-area>
</div>

<div class="flex flex-col gap-1">
  <div class="flex gap-4 flex-wrap mt-2">
    <!-- ID Type -->
    <div class="flex flex-col flex-1">
      <label class="w-full mb-2 text-sm">Legal ID Type</label>
      <mat-form-field appearance="outline">
        <mat-select
          data-testid="formLegalIdTypeSelector"
          [formControl]="orgForm.controls.legalIdType">
          <mat-option *ngFor="let type of idTypes" [value]="type.value">
            {{ type.viewValue }}
          </mat-option>
        </mat-select>
      </mat-form-field>
    </div>
    <!-- ID Type -->

    <!-- ID Number -->
    <app-text-input
      class="flex-1"
      label="Legal ID Number"
      ctrlId="formRegIdNumber"
      data-testid="formRegIdNumber"
      required
      [placeholder]="
        orgForm.controls.legalIdType.value === 'TAX_ID'
          ? 'Tax ID Number'
          : 'Commerce Register Number'
      "
      [ctrl]="orgForm.controls.legalId"></app-text-input>
    <!-- ID Number -->

    <!-- Commerce Register Location -->
    <app-text-input
      *ngIf="orgForm.controls.legalIdType.value === 'COMMERCE_REGISTER_INFO'"
      class="flex-1"
      label="Commerce Register Location"
      ctrlId="formRegCommerceRegisterLocation"
      data-testid="formRegCommerceRegisterLocation"
      placeholder="Commerce Register Location"
      required
      [ctrl]="orgForm.controls.commerceRegisterLocation"></app-text-input>
    <!-- Commerce Register Location -->
  </div>
</div>

<h3 class="wizard-step-title pb-6">Contacts</h3>

<div class="flex flex-col gap-4">
  <!-- Main Contact Form -->
  <div class="flex gap-4 flex-wrap">
    <h3 class="wizard-step-title">Main Contact</h3>
    <mat-icon
      fontIcon="info"
      matTooltip="Main Contact is needed for purposes such as use cases, events, membership etc."
      matTooltipClass="text-sm"></mat-icon>
  </div>
  <div class="flex gap-4 flex-wrap">
    <!-- User First Name -->
    <app-text-input
      class="flex-1"
      label="Main First Name"
      ctrlId="formRegMainFirstName"
      data-testid="formRegMainFirstName"
      placeholder="John"
      required
      [ctrl]="orgForm.controls.mainContactFirstName"></app-text-input>
    <!-- User First Name -->

    <!-- User Last Name -->
    <app-text-input
      class="flex-1"
      label="Main Last Name"
      ctrlId="formRegMainLastName"
      data-testid="formRegMainLastName"
      placeholder="Doe"
      required
      [ctrl]="orgForm.controls.mainContactLastName"></app-text-input>
    <!-- User Last Name -->
  </div>

  <div class="flex gap-4 flex-wrap">
    <!-- User PhoneNumber -->
    <app-text-input
      class="flex-1"
      label="Phone Number"
      ctrlId="formRegMainPhoneNumber"
      data-testid="formRegMainPhoneNumber"
      placeholder="+49 1234 567890"
      required
      [ctrl]="orgForm.controls.mainContactPhoneNumber"></app-text-input>

    <!-- User PhoneNumber -->

    <!-- User Email -->
    <app-text-input
      class="flex-1"
      label="Email"
      ctrlId="formRegMainEmail"
      data-testid="formRegMainEmail"
      placeholder="john.doe@my-org.com"
      required
      [ctrl]="orgForm.controls.mainContactEmail"></app-text-input>
    <!-- User Email -->
  </div>
</div>
<!-- Main Contact Form -->

<!-- Technical Contact Form -->
<div class="flex flex-col gap-4 mt-4">
  <div class="flex gap-4 flex-wrap">
    <h3 class="wizard-step-title">Technical Contact</h3>
    <mat-icon
      fontIcon="info"
      matTooltip="A technical contact will get notified in case of IT related topics"
      matTooltipClass="text-sm"></mat-icon>
  </div>
  <mat-checkbox
    id="formRegMcSameAsTc"
    class="mb-2"
    data-testid="formRegMcSameAsTc"
    [formControl]="orgForm.controls.technicalContactSameAsMain"
    ><div class="flex gap-2 items-center">
      <span class="text-sm">Same as Main Contact</span>
    </div>
  </mat-checkbox>

  <ng-container *ngIf="!orgForm.controls.technicalContactSameAsMain.value">
    <div class="flex gap-4 flex-wrap">
      <!-- User First Name -->
      <app-text-input
        class="flex-1"
        label="Technical First Name"
        ctrlId="formRegTechnicalFirstName"
        data-testid="formRegTechnicalFirstName"
        placeholder="John"
        required
        [ctrl]="orgForm.controls.technicalContactFirstName"></app-text-input>
      <!-- User First Name -->

      <!-- User Last Name -->
      <app-text-input
        class="flex-1"
        label="Technical Last Name"
        ctrlId="formRegTechnicalLastName"
        data-testid="formRegTechnicalLastName"
        placeholder="Doe"
        required
        [ctrl]="orgForm.controls.technicalContactLastName"></app-text-input>
      <!-- User Last Name -->
    </div>

    <div class="flex gap-4 flex-wrap">
      <!-- User PhoneNumber -->
      <app-text-input
        class="flex-1"
        label="Phone Number"
        ctrlId="formRegTechnicalPhoneNumber"
        data-testid="formRegTechnicalPhoneNumber"
        placeholder="+49 1234 567890"
        required
        [ctrl]="orgForm.controls.technicalContactPhoneNumber"></app-text-input>
      <!-- User PhoneNumber -->

      <!-- User Email -->
      <app-text-input
        class="flex-1"
        label="Email"
        ctrlId="formRegTechnicalEmail"
        data-testid="formRegTechnicalEmail"
        placeholder="john.doe@my-org.com"
        required
        [ctrl]="orgForm.controls.technicalContactEmail"></app-text-input>
      <!-- User Email -->
    </div>
  </ng-container>
</div>
<!-- Technical Contact Form -->
